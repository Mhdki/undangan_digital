<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Wedding of Ade & Annisa</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Premium Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;600&family=Great+Vibes&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Gemini API -->
    <script type="importmap">
      { "imports": { "@google/generative-ai": "https://esm.run/@google/generative-ai" } }
    </script>

    <style>
        :root {
            /* DARK ROYAL PALETTE */
            --bg-dark: #0a0a0a;
            --maroon-deep: #4a0404;
            --maroon-bright: #720e0e;
            --gold-light: #f9dcc4;
            --gold-main: #d4af37;
            --gold-dark: #aa8c2c;
            --glass-dark: rgba(20, 20, 20, 0.75);
            --glass-border: 1px solid rgba(212, 175, 55, 0.3);
            
            /* FONTS */
            --font-display: 'Cinzel', serif;
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Montserrat', sans-serif;
            --font-script: 'Great Vibes', cursive;
        }

        body {
            font-family: var(--font-body);
            color: #f0f0f0; /* Default Text White */
            background-color: var(--bg-dark);
            overflow-x: hidden;
            line-height: 1.8;
        }

        /* --- BACKGROUND EFFECTS --- */
        .bg-fixed {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* Menggunakan gambar Unsplash agar pasti tampil */
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.9)), url('https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1920&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            z-index: -2;
        }

        #particles-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
        }

        /* --- TYPOGRAPHY UPGRADE --- */
        h1, h2, h3, h4, h5 { font-family: var(--font-display); text-transform: uppercase; letter-spacing: 2px; }
        
        .text-gold {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0px 0px 20px rgba(212, 175, 55, 0.3);
        }

        .script-font {
            font-family: var(--font-script);
            font-size: 3.5rem;
            color: var(--gold-main);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            line-height: 1.2;
        }

        /* --- ADVANCED GLASS CARD --- */
        .card-glass {
            background: var(--glass-dark);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: var(--glass-border);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .card-glass:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(212, 175, 55, 0.1);
            border-color: rgba(212, 175, 55, 0.6);
        }

        /* Songket Pattern Overlay on Card */
        .card-glass::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(var(--gold-main) 1px, transparent 1px);
            background-size: 30px 30px; opacity: 0.05; pointer-events: none;
        }

        /* --- ORNAMENTS --- */
        .minang-corner {
            position: absolute; width: 60px; height: 60px;
            border: 2px solid var(--gold-main);
            transition: all 0.5s ease;
        }
        .tl { top: 15px; left: 15px; border-right: none; border-bottom: none; }
        .br { bottom: 15px; right: 15px; border-left: none; border-top: none; }
        .card-glass:hover .tl { top: 10px; left: 10px; } 
        .card-glass:hover .br { bottom: 10px; right: 10px; }

        /* --- GONJONG HEADER (Stylized) --- */
        .gonjong-wrapper {
            position: relative;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            margin-bottom: 40px;
        }
        .gonjong-shape {
            width: 100%; height: 100%;
            background: linear-gradient(to bottom, var(--maroon-bright), var(--maroon-deep));
            clip-path: polygon(0% 100%, 5% 20%, 50% 80%, 95% 20%, 100% 100%);
            position: absolute; bottom: 0;
            box-shadow: 0 -10px 30px rgba(212, 175, 55, 0.2);
        }
        .gonjong-icon {
            z-index: 2; font-size: 2rem; color: var(--gold-main);
            background: var(--bg-dark); padding: 10px; border-radius: 50%;
            border: 2px solid var(--gold-main);
            transform: translateY(50%);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
        }

        /* --- BUTTONS --- */
        .btn-royal {
            background: transparent;
            color: var(--gold-main);
            border: 1px solid var(--gold-main);
            padding: 12px 40px;
            font-family: var(--font-display);
            letter-spacing: 3px;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            z-index: 1;
        }
        .btn-royal::before {
            content: ''; position: absolute; top: 0; left: 0; width: 0%; height: 100%;
            background: var(--gold-main); z-index: -1; transition: all 0.4s ease;
        }
        .btn-royal:hover { color: #000; }
        .btn-royal:hover::before { width: 100%; }

        /* --- INPUTS (Minimalist) --- */
        .form-control, .form-select {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 0;
            color: #fff;
            padding: 15px 5px;
        }
        .form-control:focus, .form-select:focus {
            background: transparent;
            box-shadow: none;
            border-color: var(--gold-main);
            color: #fff;
        }
        ::placeholder { color: rgba(255,255,255,0.5); }
        option { background: #000; color: #fff; }

        /* --- COUPLE IMAGE --- */
        .couple-frame {
            position: relative; padding: 10px;
            border: 1px solid var(--gold-main);
            border-radius: 100px 100px 0 0;
        }
        .couple-img {
            width: 100%; height: 350px; object-fit: cover;
            border-radius: 95px 95px 0 0;
            filter: grayscale(20%);
            transition: 0.5s;
        }
        .couple-frame:hover .couple-img { filter: grayscale(0%); transform: scale(1.02); }

        /* --- TIMELINE --- */
        .timeline { position: relative; padding: 20px 0; }
        .timeline::before {
            content: ''; position: absolute; top: 0; bottom: 0; left: 50%;
            width: 2px; background: var(--gold-main); opacity: 0.3;
        }
        .timeline-node {
            width: 20px; height: 20px; background: var(--maroon-bright);
            border: 2px solid var(--gold-main); border-radius: 50%;
            position: absolute; left: 50%; transform: translateX(-50%); top: 25px;
            z-index: 2; box-shadow: 0 0 15px var(--gold-main);
        }

        /* --- ANIMATIONS (AOS Style) --- */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.2s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .reveal.active { opacity: 1; transform: translateY(0); }
        
        .zoom-in { opacity: 0; transform: scale(0.8); transition: 1s ease; }
        .zoom-in.active { opacity: 1; transform: scale(1); }

        /* --- WELCOME HERO ANIMATION --- */
        .hero-welcome {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            /* Update: Removed Opacity 0 to ensure content is visible immediately behind cover */
            /* transform: scale(0.95); Removed initial scale for instant impact */
            /* transition: all 1.5s ease-out; */
        }
        /* .hero-welcome.active { ... } Removed active logic for instant show */
        
        .hero-img-container {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0; left: 0;
            z-index: -1;
        }
        .hero-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Masking agar smooth transisi ke konten bawah */
            mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
        }

        /* --- PRELOADER --- */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1s ease;
        }
        .loader-ring {
            width: 80px; height: 80px; border: 2px solid transparent;
            border-top: 2px solid var(--gold-main); border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }
        .loader-ring::before {
            content: ''; position: absolute; top: 5px; left: 5px; right: 5px; bottom: 5px;
            border: 2px solid transparent; border-top: 2px solid var(--maroon-bright);
            border-radius: 50%; animation: spin 2s linear infinite reverse;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- MUSIC FAB --- */
        .music-fab {
            position: fixed; bottom: 30px; left: 30px; z-index: 1000;
            width: 50px; height: 50px; border-radius: 50%;
            background: rgba(0,0,0,0.5); border: 1px solid var(--gold-main);
            color: var(--gold-main); display: flex; justify-content: center; align-items: center;
            cursor: pointer; backdrop-filter: blur(5px);
            animation: pulse-gold 2s infinite;
        }
        @keyframes pulse-gold { 0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); } 100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); } }
        .spin-vinyl { animation: spin 4s linear infinite; }

        /* --- LIGHTBOX --- */
        #lightbox {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; justify-content: center; align-items: center; z-index: 10001;
        }
        #lightbox img { max-width: 90vw; max-height: 90vh; border: 2px solid var(--gold-main); box-shadow: 0 0 50px rgba(212,175,55,0.3); }

        /* Responsive Fixes */
        @media (max-width: 768px) {
            .timeline::before { left: 20px; }
            .timeline-node { left: 20px; }
            .hero-title { font-size: 3rem; }
        }
    </style>
</head>
<body>

    <!-- PRELOADER -->
    <div id="preloader">
        <div class="loader-ring"></div>
        <h2 class="mt-4 text-gold" style="font-size: 1.5rem; letter-spacing: 5px;">ADE & ANNISA</h2>
    </div>

    <!-- CANVAS PARTICLES (GOLD DUST) -->
    <canvas id="particles-canvas"></canvas>

    <!-- BACKGROUND IMAGE -->
    <div class="bg-fixed"></div>

    <!-- AUDIO (MINANG INSTRUMENT) -->
    <audio id="bg-music" loop>
        <source src="instrumen-minang.mp3" type="audio/mp3">
    </audio>
    <div class="music-fab" onclick="toggleMusic()">
        <i class="fas fa-compact-disc fa-lg spin-vinyl"></i>
    </div>

    <!-- LIGHTBOX -->
    <div id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="Gallery Zoom">
    </div>

    <!-- 1. COVER SECTION -->
    <section id="cover" class="d-flex flex-column justify-content-center align-items-center vh-100 text-center position-relative" style="z-index: 10;">
        <div class="container" data-aos="fade-up">
            <div class="mb-3">
                <i class="fas fa-crown text-gold fs-2 mb-2"></i>
                <p class="text-uppercase letter-spacing-4 text-light small">The Wedding Of</p>
            </div>
            
            <h1 class="hero-title text-gold display-1 fw-bold mb-4">Ade & Annisa</h1>
            
            <div style="width: 100px; height: 2px; background: var(--gold-main); margin: 0 auto 30px;"></div>
            
            <p class="text-light fst-italic fs-5 mb-5">"Sabiduak Sadayuang, Sahilia Samudiak"</p>
            
            <button class="btn-royal" onclick="openInvitation()">BUKA UNDANGAN</button>
        </div>
    </section>

    <!-- MAIN CONTENT WRAPPER -->
    <div id="main-content" style="display: none;">
        
        <!-- 2. WELCOME HERO (Full Screen Couple Photo) -->
        <section class="hero-welcome" id="welcome-section">
            <div class="hero-img-container">
                <!-- Menggunakan gambar Unsplash agar pasti tampil -->
                <img src="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1920&auto=format&fit=crop" alt="Ade & Annisa">
            </div>
            <!-- Margin-top dihapus agar centered -->
            <div class="container text-center" style="position: relative; z-index: 2;">
                <h2 class="script-font text-gold mb-3" style="font-size: 4rem;">We Are Getting Married</h2>
                <p class="text-white letter-spacing-2 text-uppercase">Sabtu, 20 Desember 2026</p>
            </div>
        </section>

        <!-- 3. MUKADIMAH -->
        <section class="py-5">
            <div class="container text-center">
                <div class="card-glass reveal">
                    <div class="minang-corner tl"></div>
                    <div class="minang-corner br"></div>
                    
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Bismillah.svg/300px-Bismillah.svg.png" width="200" style="filter: invert(1); opacity: 0.8; margin-bottom: 30px;">
                    
                    <h4 class="mb-4 text-gold">Assalamu’alaikum Warahmatullahi Wabarakatuh</h4>
                    <p class="fs-5 fst-italic text-light mb-4">
                        "Anak ikan dimakan ikan,<br>Ikan dimakan di dalam kuali.<br>
                        Bukan harta yang kami nantikan,<br>Kehadiran Tuan yang kami nanti."
                    </p>
                    <p class="small text-uppercase letter-spacing-2">Dengan memohon Rahmat dan Ridho Allah SWT</p>
                </div>
            </div>
        </section>

        <!-- 4. MEMPELAI -->
        <section class="py-5">
            <div class="container">
                <div class="gonjong-wrapper reveal">
                    <div class="gonjong-shape"></div>
                    <div class="gonjong-icon"><i class="fas fa-heart"></i></div>
                </div>

                <div class="row justify-content-center align-items-center g-5">
                    <!-- Groom -->
                    <div class="col-md-5 text-center reveal">
                        <div class="couple-frame mx-auto mb-4" style="max-width: 300px;">
                            <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&q=80" class="couple-img" alt="Groom">
                        </div>
                        <h2 class="text-gold mb-1">Ade Febrianto Saputra</h2>
                        <p class="text-white-50 mb-1">Putra Bpk. Ahmad & Ibu Siti</p>
                        <a href="#" class="text-gold text-decoration-none small"><i class="fab fa-instagram"></i> @ade_f</a>
                    </div>

                    <div class="col-md-1 text-center reveal">
                        <div class="script-font">&</div>
                    </div>

                    <!-- Bride -->
                    <div class="col-md-5 text-center reveal">
                        <div class="couple-frame mx-auto mb-4" style="max-width: 300px;">
                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&q=80" class="couple-img" alt="Bride">
                        </div>
                        <h2 class="text-gold mb-1">Annisa Putri</h2>
                        <p class="text-white-50 mb-1">Putri Bpk. Budi & Ibu Rina</p>
                        <a href="#" class="text-gold text-decoration-none small"><i class="fab fa-instagram"></i> @annisa_p</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. LOVE STORY TIMELINE -->
        <section class="py-5">
            <div class="container">
                <h2 class="text-center text-gold mb-5 reveal">Perjalanan Cinta</h2>
                
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <!-- Item 1 -->
                        <div class="timeline reveal">
                            <div class="timeline-node"></div>
                            <div class="card-glass p-4 ms-md-5 ms-4">
                                <h4 class="text-gold">2018</h4>
                                <h5 class="text-white">Pertemuan Pertama</h5>
                                <p class="small text-white-50 mb-0">Bertemu di kampus Universitas Andalas. Berawal dari diskusi kelompok, berakhir dengan diskusi masa depan.</p>
                            </div>
                        </div>
                        <!-- Item 2 -->
                        <div class="timeline reveal">
                            <div class="timeline-node"></div>
                            <div class="card-glass p-4 ms-md-5 ms-4">
                                <h4 class="text-gold">2024</h4>
                                <h5 class="text-white">Manatiang Siriah</h5>
                                <p class="small text-white-50 mb-0">Prosesi lamaran adat sebagai tanda keseriusan kami untuk melangkah ke jenjang pernikahan.</p>
                            </div>
                        </div>
                        <!-- Item 3 -->
                        <div class="timeline reveal">
                            <div class="timeline-node"></div>
                            <div class="card-glass p-4 ms-md-5 ms-4">
                                <h4 class="text-gold">2026</h4>
                                <h5 class="text-white">The Wedding</h5>
                                <p class="small text-white-50 mb-0">Insya Allah kami akan mengikat janji suci sehidup semati.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. EVENTS & COUNTDOWN -->
        <section class="py-5">
            <div class="container">
                <div class="card-glass reveal">
                    <div class="minang-corner tl"></div>
                    <div class="minang-corner br"></div>
                    
                    <h2 class="text-center text-gold mb-5">Rangkaian Acara</h2>
                    
                    <div class="row text-center g-4">
                        <div class="col-md-6 border-end border-secondary">
                            <h3 class="text-white mb-3">Akad Nikah</h3>
                            <div class="display-1 text-gold fw-bold mb-0" style="line-height: 0.8;">20</div>
                            <div class="h5 letter-spacing-4 mb-3">DES 2026</div>
                            <p class="text-white-50 mb-1"><i class="far fa-clock text-gold"></i> 08.00 WIB - Selesai</p>
                            <p class="fw-bold mb-3">Masjid Raya Sumatera Barat</p>
                            <a href="#" class="btn btn-outline-light btn-sm rounded-0 px-4">LOKASI</a>
                        </div>
                        <div class="col-md-6">
                            <h3 class="text-white mb-3">Baralek Gadang</h3>
                            <div class="display-1 text-gold fw-bold mb-0" style="line-height: 0.8;">21</div>
                            <div class="h5 letter-spacing-4 mb-3">DES 2026</div>
                            <p class="text-white-50 mb-1"><i class="far fa-clock text-gold"></i> 11.00 WIB - Selesai</p>
                            <p class="fw-bold mb-3">UPI Convention Center</p>
                            <a href="#" class="btn btn-outline-light btn-sm rounded-0 px-4">LOKASI</a>
                        </div>
                    </div>

                    <!-- Countdown -->
                    <div class="row justify-content-center mt-5 g-2">
                        <div class="col-3 col-md-2">
                            <div class="border border-gold p-2 text-center rounded">
                                <div class="h3 mb-0 text-white" id="days">00</div>
                                <small class="text-gold" style="font-size: 0.6rem;">HARI</small>
                            </div>
                        </div>
                        <div class="col-3 col-md-2">
                            <div class="border border-gold p-2 text-center rounded">
                                <div class="h3 mb-0 text-white" id="hours">00</div>
                                <small class="text-gold" style="font-size: 0.6rem;">JAM</small>
                            </div>
                        </div>
                        <div class="col-3 col-md-2">
                            <div class="border border-gold p-2 text-center rounded">
                                <div class="h3 mb-0 text-white" id="minutes">00</div>
                                <small class="text-gold" style="font-size: 0.6rem;">MENIT</small>
                            </div>
                        </div>
                        <div class="col-3 col-md-2">
                            <div class="border border-gold p-2 text-center rounded">
                                <div class="h3 mb-0 text-white" id="seconds">00</div>
                                <small class="text-gold" style="font-size: 0.6rem;">DETIK</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 7. GALLERY -->
        <section class="py-5">
            <div class="container text-center">
                <h2 class="text-gold mb-5 reveal">Momen Bahagia</h2>
                <div class="row g-3">
                    <div class="col-6 col-md-3 zoom-in">
                        <img src="https://images.unsplash.com/photo-1511285560982-1351cdeb9821?w=600&q=80" class="w-100 rounded border border-secondary" style="cursor: pointer;" onclick="openLightbox(this)">
                    </div>
                    <div class="col-6 col-md-3 zoom-in" style="transition-delay: 0.1s;">
                        <img src="https://images.unsplash.com/photo-1519741497674-611481863552?w=600&q=80" class="w-100 rounded border border-secondary" style="cursor: pointer;" onclick="openLightbox(this)">
                    </div>
                    <div class="col-6 col-md-3 zoom-in" style="transition-delay: 0.2s;">
                        <img src="https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=600&q=80" class="w-100 rounded border border-secondary" style="cursor: pointer;" onclick="openLightbox(this)">
                    </div>
                    <div class="col-6 col-md-3 zoom-in" style="transition-delay: 0.3s;">
                        <img src="https://images.unsplash.com/photo-1520854221250-858f273b4c97?w=600&q=80" class="w-100 rounded border border-secondary" style="cursor: pointer;" onclick="openLightbox(this)">
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. AI PANTUN -->
        <section class="py-5">
            <div class="container">
                <div class="card-glass reveal text-center border-warning border-opacity-25">
                    <i class="fas fa-robot text-gold fs-1 mb-3"></i>
                    <h2 class="text-gold mb-2">Pambuek Pantun Adat</h2>
                    <p class="text-white-50 mb-4">Kirimkan ucapan selamat dengan gaya pantun Minang (Powered by AI).</p>
                    
                    <div class="row justify-content-center">
                        <div class="col-md-6">
                            <input type="text" id="senderName" class="form-control mb-3" placeholder="Nama Dunsanak">
                            <input type="text" id="wishTopic" class="form-control mb-4" placeholder="Ucapan/Doa Singkat">
                            <button class="btn-royal w-100" onclick="generatePantun()">BUAT PANTUN</button>
                            
                            <div id="loadingSpinner" class="mt-4" style="display: none;">
                                <div class="spinner-border text-gold" role="status"></div>
                            </div>

                            <div id="pantunResult" class="mt-4 p-3 border-start border-3 border-warning text-start bg-dark bg-opacity-50" style="display: none;">
                                <p id="pantunText" class="fst-italic mb-0 text-light" style="white-space: pre-line;"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 9. GIFT & RSVP -->
        <section class="py-5 pb-5">
            <div class="container">
                <div class="row g-4">
                    <!-- Gift -->
                    <div class="col-md-6 reveal">
                        <div class="card-glass h-100 text-center">
                            <i class="fas fa-gift text-gold fs-1 mb-3"></i>
                            <h3 class="text-white mb-4">Wedding Gift</h3>
                            <p class="text-white-50">Tanpa mengurangi rasa hormat, bagi yang ingin memberikan tanda kasih:</p>
                            <div class="bg-black bg-opacity-50 p-3 rounded border border-secondary d-inline-block mt-2">
                                <p class="mb-0 text-gold fw-bold">BANK BRI</p>
                                <h2 class="text-white my-2 letter-spacing-4">1234 5678 9012</h2>
                                <p class="small mb-2">a.n ADE FEBRIANTO SAPUTRA</p>
                                <button onclick="copyText('123456789012')" class="btn btn-sm btn-outline-light"><i class="fas fa-copy me-2"></i>SALIN</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- RSVP -->
                    <div class="col-md-6 reveal">
                        <div class="card-glass h-100">
                            <h3 class="text-center text-white mb-4">Konfirmasi Kehadiran</h3>
                            <form onsubmit="sendToWhatsapp(event)">
                                <div class="mb-3">
                                    <input type="text" id="rsvpName" class="form-control" placeholder="Nama Lengkap" required>
                                </div>
                                <div class="mb-4">
                                    <select id="rsvpStatus" class="form-select" required>
                                        <option value="">Status Kehadiran</option>
                                        <option value="Hadir">Hadir</option>
                                        <option value="Maaf">Berhalangan</option>
                                    </select>
                                </div>
                                <button class="btn-royal w-100">KIRIM KE WHATSAPP</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="bg-black text-center py-5 border-top border-secondary">
            <h2 class="script-font mb-3 text-gold">Ade & Annisa</h2>
            <p class="text-white small mb-4" style="font-family: var(--font-body); font-weight: 500;">Terima kasih atas doa & restu Bapak/Ibu/Saudara/i.</p>
            <p class="text-muted" style="font-size: 0.7rem; letter-spacing: 2px;">© 2026 THE ROYAL WEDDING</p>
        </footer>
    </div>

    <!-- LOGIC SCRIPT -->
    <script type="module">
        import { GoogleGenerativeAI } from "@google/generative-ai";

        // --- PARTICLE SYSTEM (GOLD DUST) ---
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');
        let particlesArray;

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2;
                this.speedX = (Math.random() * 0.5) - 0.25;
                this.speedY = (Math.random() * 0.5) - 0.25;
                this.color = '#d4af37';
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if(this.size > 0.2) this.size -= 0.005; 
                if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height || this.size <= 0.2) {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2 + 0.5; // Reset size
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particlesArray = [];
            for (let i = 0; i < 80; i++) {
                particlesArray.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
                particlesArray[i].draw();
            }
            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        });

        initParticles();
        animateParticles();

        // --- PRELOADER ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').style.opacity = '0';
                setTimeout(() => document.getElementById('preloader').style.display = 'none', 1000);
            }, 1500);
        });

        // --- GLOBAL FUNCTIONS ---
        window.openInvitation = function() {
            // Animasi Cover Slide Up
            const cover = document.getElementById('cover');
            const mainContent = document.getElementById('main-content');
            
            cover.style.transition = "transform 1s cubic-bezier(0.77, 0, 0.175, 1)";
            cover.style.transform = 'translateY(-100%)';
            
            // Tampilkan konten utama LANGSUNG tanpa delay berlebihan
            mainContent.style.display = 'block';
            
            // Jalankan musik
            window.playMusic();
            
            // Trigger Animations Scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('active');
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.reveal, .zoom-in').forEach(el => observer.observe(el));
        }

        const audio = document.getElementById('bg-music');
        let isPlaying = false;

        window.playMusic = function() {
            audio.play().then(() => isPlaying = true).catch(console.error);
        }

        window.toggleMusic = function() {
            const btn = document.querySelector('.music-fab i');
            if (isPlaying) { 
                audio.pause(); 
                btn.classList.remove('spin-vinyl');
            } else { 
                audio.play(); 
                btn.classList.add('spin-vinyl');
            }
            isPlaying = !isPlaying;
        }

        // Lightbox
        const lb = document.getElementById('lightbox');
        const lbImg = document.getElementById('lightbox-img');
        window.openLightbox = function(el) { lbImg.src = el.src; lb.style.display = 'flex'; }
        window.closeLightbox = function() { lb.style.display = 'none'; }

        // Countdown
        const weddingDate = new Date("2026-12-20T08:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const d = weddingDate - now;
            if (d >= 0) {
                document.getElementById("days").innerText = Math.floor(d / (1000 * 60 * 60 * 24));
                document.getElementById("hours").innerText = Math.floor((d % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById("minutes").innerText = Math.floor((d % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById("seconds").innerText = Math.floor((d % (1000 * 60)) / 1000);
            }
        }, 1000);

        // WA & Copy
        window.sendToWhatsapp = function(e) {
            e.preventDefault();
            const n = document.getElementById('rsvpName').value;
            const s = document.getElementById('rsvpStatus').value;
            window.open(`https://api.whatsapp.com/send?phone=6281234567890&text=Halo, saya ${n}. Konfirmasi kehadiran: ${s}.`, '_blank');
        }
        window.copyText = function(t) { navigator.clipboard.writeText(t); alert("Nomor tersalin!"); }

        // --- GEMINI AI PANTUN (WITH FALLBACK) ---
        window.generatePantun = async function() {
            const name = document.getElementById('senderName').value;
            const wish = document.getElementById('wishTopic').value;
            if(!name || !wish) return alert("Mohon isi data!");

            document.getElementById('loadingSpinner').style.display = 'block';
            document.getElementById('pantunResult').style.display = 'none';

            try {
                // IMPORTANT: Use Backend in Production
                const apiKey = ""; 
                if (!apiKey) throw new Error("API Key kosong");

                const genAI = new GoogleGenerativeAI(apiKey);
                const model = genAI.getGenerativeModel({ model: "gemini-2.5-flash-preview-09-2025" });
                const prompt = `Buatkan pantun Minang 4 baris yang santun dan indah untuk pernikahan Ade & Annisa. Pengirim: ${name}, Ucapan: ${wish}. Sertakan terjemahan.`;
                const result = await model.generateContent(prompt);
                const response = await result.response;
                document.getElementById('pantunText').innerText = response.text();

            } catch (error) {
                const fallbackPantun = `Maaf Dunsanak, koneksi AI sadang taganggu.\n\nAnak daro duduek basandiang,\nMarapulai gagah manawan.\nDoa kami indaklah karing,\nBahagia ${name} sampaikan kawan.\n\n(Mode Offline: Pesan fallback)`;
                document.getElementById('pantunText').innerText = fallbackPantun;
            } finally {
                document.getElementById('loadingSpinner').style.display = 'none';
                document.getElementById('pantunResult').style.display = 'block';
            }
        }
    </script>
</body>
</html>
